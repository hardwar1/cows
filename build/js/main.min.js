"use strict";window.onload=()=>{function e(e){return document.querySelector(e)}function t(e){return document.querySelectorAll(e)}function n(e,t){for(let n=0;n<e.length;n++)e[n].classList.add(t)}if(e(".cows")){let d,u,b,w,f,v="",h=0,_=0;const L=window.screen.width,g=e(".js-rule"),m=e(".js-lose"),k=e(".cows__board--main"),p=e(".js-help"),M=e(".js-conceive"),H=e(".js-concoct"),T=e(".cows__hide-btn"),j=e(".overlay"),E=t(".js-show"),x=e(".cows__answer-panel--left"),y=e(".cows__answer-panel--right"),A=t(".cows__btn"),$=e(".cows__hide-num"),X=e(".modal");for(let e of A)e.addEventListener("click",(function(){let t=e.textContent;"Enter"==t?(d=k.value,a()):k.value="Bspace"==t?k.value.substring(0,k.value.length-1):k.value+t}));function s(){for(let e of A)e.removeAttribute("disabled");for($.innerHTML="XXXX",m.removeAttribute("disabled");x.children.length>1;)x.removeChild(x.lastChild);for(;y.children.length>1;)y.removeChild(y.lastChild);M.setAttribute("disabled",!0),4!=v.length&&function(){for(;v.length<4;){let e=Math.floor(10*Math.random());v.includes(e)||(v+=e)}console.log(v)}(),_=0}function o(e="(игрок сдался)"){$.innerHTML=v,y.innerHTML=y.innerHTML+`\n      <div class="lose">игра закончена ${e}</div>\n      <button type="button" class="cow-btn js-start-new">Новая игра</button>`,r(),x.innerHTML=x.innerHTML+`\n      <div class="lose">игра закончена ${e}</div>\n      <button type="button" class="cow-btn js-start-new">Новая игра</button>`,r(),i(),v="";for(let e of A)e.setAttribute("disabled",!0);M.removeAttribute("disabled"),m.setAttribute("disabled",!0),_=0}function i(){w=t(".js-start-new");for(let e of w)e.addEventListener("click",s)}function c(e){h++,e.classList.remove("hide-block"),j.classList.remove("hide-block")}function l(e){e.classList.add("hide-block"),h--,h||j.classList.add("hide-block")}function r(){x.scrollTop=x.scrollHeight,y.scrollTop=y.scrollHeight}function a(){let e=new Set(d);if(4==d.length&&4===e.size)if(d!=v){let e=0,n=0;for(u=0,b=0;e<4;)d[e]==v[e]?(b+=1,e++):-1!=v.indexOf(d[e])?(u+=1,e++):(n++,4==n&&(n=0,e++));!function(){function e(e){e.innerHTML=e.innerHTML+`\n          <div class="cows__answer-row">\n            <span class="cows__text cows__text--num">${d}</span>\n            <span class="cows__text cows__text--bulls">${b}</span>\n            <span class="cows__text cows__text--cows">${u}</span>\n          </div>\n        `,r(),_++}let n=t(".cows__answer-row"),s=x;n.length<17?e(x):n.length<35&&Number(L)>800?(y.classList.remove("hide-block"),e(y),s=y):(o("(превышено 35 ходов)"),r())}(),k.value=""}else!function(){$.innerHTML="<span>&#128077;</span> "+d+" &#128077;",y.innerHTML=y.innerHTML+`\n      <div class="cows__text--win">Число отгадано!!</div>\n      <div class="cows__text--win">потрачено ходов: ${_}</div>\n      <button type="button" class="cow-btn js-start-new">Новая игра</button>`,r(),v="",x.innerHTML=x.innerHTML+`\n      <div class="cows__text--win">Число отгадано!!</div>\n      <div class="cows__text--win">потрачено ходов: ${_}</div>\n\n      <button type="button" class="cow-btn js-start-new">Новая игра</button>`,r(),i();for(let e of A)e.setAttribute("disabled",!0);m.setAttribute("disabled",!0),M.removeAttribute("disabled"),_=0}();else c(p)}e(".js-start").addEventListener("click",s),m.addEventListener("click",(function(){o()})),j.addEventListener("click",(function(){l(j),n(E,"hide-block")})),g.addEventListener("click",(function(){X.classList.contains("hide-block")?c(X):l(X)})),document.addEventListener("keydown",(function(e){d=k.value,"Enter"==e.key&&"XXXX"==$.innerHTML&&a(),"Escape"==e.key&&n(E,"hide-block")})),M.addEventListener("click",(function(){H.classList.contains("hide-block")?c(H):l(H)})),T.addEventListener("click",(function(){f=e(".cows__board--concoct");let t=f.value,n=new Set(t);4==t.length&&4==n.size&&Number(t)>4&&(v=t,t="",f.setAttribute("disabled",!0),console.log(v),s(),l(H))}));const C=e(".cows"),S=new Image;let I;setInterval(()=>{!function(){let e=0,t=0;for(;e<1&&t<10;)I=Math.floor(10*Math.random()),S.src=`images/cows/${I}.jpg`,S.onload=function(){C.style.backgroundImage=`url(images/cows/${I}.jpg)`,e++},t++}()},1e4);let q=e(".burger"),z=e(".header__menu");q.addEventListener("click",(function(){this.classList.toggle("burger--close"),z.classList.toggle("header__menu--show")})),z.addEventListener("click",(function(){this.classList.remove("header__menu--show")}))}};
//# sourceMappingURL=../sourcemaps/main.min.js.map
