"use strict";document.addEventListener("DOMContentLoaded",(function(e){function t(e){return document.querySelector(e)}function n(e){return document.querySelectorAll(e)}function s(e,t){for(let n=0;n<e.length;n++)e[n].classList.add(t)}if(t(".cows")){let e,u,b,f,w,h="",v=0;const _=window.screen.width,L=t(".js-rule"),g=t(".js-lose"),m=t(".cows__board--main"),k=t(".js-help"),p=t(".js-conceive"),M=t(".js-concoct"),H=t(".cows__hide-btn"),T=t(".overlay"),E=n(".js-show"),j=t(".cows__answer-panel--left"),y=t(".cows__answer-panel--right"),A=n(".cows__btn"),x=t(".cows__hide-num"),X=t(".modal");for(let t of A)t.addEventListener("click",(function(){let n=t.textContent;"Enter"==n?(e=m.value,d()):m.value="Bspace"==n?m.value.substring(0,m.value.length-1):m.value+n}));function o(){for(let e of A)e.removeAttribute("disabled");for(x.innerHTML="XXXX",g.removeAttribute("disabled");j.children.length>1;)j.removeChild(j.lastChild);for(;y.children.length>1;)y.removeChild(y.lastChild);p.setAttribute("disabled",!0),4!=h.length&&function(){for(;h.length<4;){let e=Math.floor(10*Math.random());h.includes(e)||(h+=e)}console.log(h)}()}function i(e="(игрок сдался)"){x.innerHTML=h,y.innerHTML=y.innerHTML+`\n      <div class="lose">игра закончена ${e}</div>\n      <button type="button" class="cow-btn js-start-new">Новая игра</button>`,a(),j.innerHTML=j.innerHTML+`\n      <div class="lose">игра закончена ${e}</div>\n      <button type="button" class="cow-btn js-start-new">Новая игра</button>`,a(),c(),h="";for(let e of A)e.setAttribute("disabled",!0);p.removeAttribute("disabled"),g.setAttribute("disabled",!0)}function c(){f=n(".js-start-new");for(let e of f)e.addEventListener("click",o)}function l(e){v++,e.classList.remove("hide-block"),T.classList.remove("hide-block")}function r(e){e.classList.add("hide-block"),v--,v||T.classList.add("hide-block")}function a(){j.scrollTop=j.scrollHeight,y.scrollTop=y.scrollHeight}function d(){let t=new Set(e);if(4==e.length&&4===t.size)if(e!=h){let t=0,s=0;for(u=0,b=0;t<4;)e[t]==h[t]?(b+=1,t++):-1!=h.indexOf(e[t])?(u+=1,t++):(s++,4==s&&(s=0,t++));!function(){function t(t){t.innerHTML=t.innerHTML+`\n          <div class="cows__answer-row">\n            <span class="cows__text cows__text--num">${e}</span>\n            <span class="cows__text cows__text--bulls">${b}</span>\n            <span class="cows__text cows__text--cows">${u}</span>\n          </div>\n        `,a()}let s=n(".cows__answer-row"),o=j;s.length<17?t(j):s.length<35&&Number(_)>800?(y.classList.remove("hide-block"),t(y),o=y):(i("(превышено 35 ходов)"),a())}(),m.value=""}else!function(){x.innerHTML="<span>&#128077;</span> "+e+" &#128077;",y.innerHTML=y.innerHTML+'\n      <div class="cows__text--win">Число отгадано!!</div>\n      <button type="button" class="cow-btn js-start-new">Новая игра</button>',a(),h="",j.innerHTML=j.innerHTML+'\n      <div class="cows__text--win">Число отгадано!!</div>\n      <button type="button" class="cow-btn js-start-new">Новая игра</button>',a(),c();for(let e of A)e.setAttribute("disabled",!0);g.setAttribute("disabled",!0),p.removeAttribute("disabled")}();else l(k)}t(".js-start").addEventListener("click",o),g.addEventListener("click",(function(){i()})),T.addEventListener("click",(function(){r(T),s(E,"hide-block")})),L.addEventListener("click",(function(){X.classList.contains("hide-block")?l(X):r(X)})),document.addEventListener("keydown",(function(t){e=m.value,"Enter"==t.key&&"XXXX"==x.innerHTML&&d(),"Escape"==t.key&&s(E,"hide-block")})),p.addEventListener("click",(function(){M.classList.contains("hide-block")?l(M):r(M)})),H.addEventListener("click",(function(){w=t(".cows__board--concoct");let e=w.value,n=new Set(e);4==e.length&&4==n.size&&Number(e)>4&&(h=e,e="",w.setAttribute("disabled",!0),console.log(h),o(),r(M))}));const $=t(".cows"),C=new Image;let S;setInterval(()=>{!function(){let e=0,t=0;for(;e<1&&t<10;)S=Math.floor(10*Math.random()),C.src=`images/cows/${S}.jpg`,C.onload=function(){$.style.backgroundImage=`url(images/cows/${S}.jpg)`,e++},t++}()},1e4);let I=t(".burger"),q=t(".header__menu");I.addEventListener("click",(function(){this.classList.toggle("burger--close"),q.classList.toggle("header__menu--show")})),q.addEventListener("click",(function(){this.classList.remove("header__menu--show")}))}}));
//# sourceMappingURL=../sourcemaps/main.min.js.map
