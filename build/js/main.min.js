"use strict";document.addEventListener("DOMContentLoaded",(function(e){function t(e){return document.querySelector(e)}function n(e){return document.querySelectorAll(e)}function s(e,t){for(let n=0;n<e.length;n++)e[n].classList.add(t)}if(t(".cows")){let e,u,b,w,f,v="",h=0,_=0;const L=window.screen.width,g=t(".js-rule"),m=t(".js-lose"),k=t(".cows__board--main"),p=t(".js-help"),M=t(".js-conceive"),H=t(".js-concoct"),T=t(".cows__hide-btn"),E=t(".overlay"),j=n(".js-show"),x=t(".cows__answer-panel--left"),y=t(".cows__answer-panel--right"),A=n(".cows__btn"),$=t(".cows__hide-num"),X=t(".modal");for(let t of A)t.addEventListener("click",(function(){let n=t.textContent;"Enter"==n?(e=k.value,d()):k.value="Bspace"==n?k.value.substring(0,k.value.length-1):k.value+n}));function o(){for(let e of A)e.removeAttribute("disabled");for($.innerHTML="XXXX",m.removeAttribute("disabled");x.children.length>1;)x.removeChild(x.lastChild);for(;y.children.length>1;)y.removeChild(y.lastChild);M.setAttribute("disabled",!0),4!=v.length&&function(){for(;v.length<4;){let e=Math.floor(10*Math.random());v.includes(e)||(v+=e)}console.log(v)}(),_=0}function i(e="(игрок сдался)"){$.innerHTML=v,y.innerHTML=y.innerHTML+`\n      <div class="lose">игра закончена ${e}</div>\n      <button type="button" class="cow-btn js-start-new">Новая игра</button>`,a(),x.innerHTML=x.innerHTML+`\n      <div class="lose">игра закончена ${e}</div>\n      <button type="button" class="cow-btn js-start-new">Новая игра</button>`,a(),c(),v="";for(let e of A)e.setAttribute("disabled",!0);M.removeAttribute("disabled"),m.setAttribute("disabled",!0),_=0}function c(){w=n(".js-start-new");for(let e of w)e.addEventListener("click",o)}function l(e){h++,e.classList.remove("hide-block"),E.classList.remove("hide-block")}function r(e){e.classList.add("hide-block"),h--,h||E.classList.add("hide-block")}function a(){x.scrollTop=x.scrollHeight,y.scrollTop=y.scrollHeight}function d(){let t=new Set(e);if(4==e.length&&4===t.size)if(e!=v){let t=0,s=0;for(u=0,b=0;t<4;)e[t]==v[t]?(b+=1,t++):-1!=v.indexOf(e[t])?(u+=1,t++):(s++,4==s&&(s=0,t++));!function(){function t(t){t.innerHTML=t.innerHTML+`\n          <div class="cows__answer-row">\n            <span class="cows__text cows__text--num">${e}</span>\n            <span class="cows__text cows__text--bulls">${b}</span>\n            <span class="cows__text cows__text--cows">${u}</span>\n          </div>\n        `,a(),_++}let s=n(".cows__answer-row"),o=x;s.length<17?t(x):s.length<35&&Number(L)>800?(y.classList.remove("hide-block"),t(y),o=y):(i("(превышено 35 ходов)"),a())}(),k.value=""}else!function(){$.innerHTML="<span>&#128077;</span> "+e+" &#128077;",y.innerHTML=y.innerHTML+`\n      <div class="cows__text--win">Число отгадано!!</div>\n      <div class="cows__text--win">потрачено ходов ${_}</div>\n      <button type="button" class="cow-btn js-start-new">Новая игра</button>`,a(),v="",x.innerHTML=x.innerHTML+`\n      <div class="cows__text--win">Число отгадано!!</div>\n      <div class="cows__text--win">потрачено ходов ${_}</div>\n\n      <button type="button" class="cow-btn js-start-new">Новая игра</button>`,a(),c();for(let e of A)e.setAttribute("disabled",!0);m.setAttribute("disabled",!0),M.removeAttribute("disabled"),_=0}();else l(p)}t(".js-start").addEventListener("click",o),m.addEventListener("click",(function(){i()})),E.addEventListener("click",(function(){r(E),s(j,"hide-block")})),g.addEventListener("click",(function(){X.classList.contains("hide-block")?l(X):r(X)})),document.addEventListener("keydown",(function(t){e=k.value,"Enter"==t.key&&"XXXX"==$.innerHTML&&d(),"Escape"==t.key&&s(j,"hide-block")})),M.addEventListener("click",(function(){H.classList.contains("hide-block")?l(H):r(H)})),T.addEventListener("click",(function(){f=t(".cows__board--concoct");let e=f.value,n=new Set(e);4==e.length&&4==n.size&&Number(e)>4&&(v=e,e="",f.setAttribute("disabled",!0),console.log(v),o(),r(H))}));const C=t(".cows"),S=new Image;let I;setInterval(()=>{!function(){let e=0,t=0;for(;e<1&&t<10;)I=Math.floor(10*Math.random()),S.src=`images/cows/${I}.jpg`,S.onload=function(){C.style.backgroundImage=`url(images/cows/${I}.jpg)`,e++},t++}()},1e4);let q=t(".burger"),z=t(".header__menu");q.addEventListener("click",(function(){this.classList.toggle("burger--close"),z.classList.toggle("header__menu--show")})),z.addEventListener("click",(function(){this.classList.remove("header__menu--show")}))}}));
//# sourceMappingURL=../sourcemaps/main.min.js.map
